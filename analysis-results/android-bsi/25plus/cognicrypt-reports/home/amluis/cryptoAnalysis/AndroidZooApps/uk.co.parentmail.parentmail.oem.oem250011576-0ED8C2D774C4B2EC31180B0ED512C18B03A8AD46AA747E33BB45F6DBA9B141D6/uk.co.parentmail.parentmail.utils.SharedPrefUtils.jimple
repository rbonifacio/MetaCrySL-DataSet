public class uk.co.parentmail.parentmail.utils.SharedPrefUtils extends java.lang.Object
{
    private static final java.lang.String SALT;
    private static final java.lang.String SHARED_PREFS_ENCRYPT_VERSION;
    private static android.content.SharedPreferences sSharedPreferences;

    public void <init>()
    {
        uk.co.parentmail.parentmail.utils.SharedPrefUtils $r0;

        $r0 := @this: uk.co.parentmail.parentmail.utils.SharedPrefUtils;

        specialinvoke $r0.<java.lang.Object: void <init>()>();

        return;
    }

    public static java.lang.String getEncryptedString(java.lang.String) throws uk.co.parentmail.parentmail.service.ContextService$ServiceMissingException
    {
        java.lang.String $r0, varReplacer1128, varReplacer1129, varReplacer1130;
        android.content.SharedPreferences $r1;
        int $i0, varReplacer1131;

        nop;

        $r0 := @parameter0: java.lang.String;

        $r1 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences getSharedPreferences()>();

        varReplacer1130 = "sharedPrefsEncyrptVersion";

        varReplacer1131 = 1;

        $i0 = interfaceinvoke $r1.<android.content.SharedPreferences: int getInt(java.lang.String,int)>(varReplacer1130, varReplacer1131);

        if $i0 > 15 goto label1;

        varReplacer1128 = "sharedPrefsSavedPassword";

        $r0 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: java.lang.String getEncryptedStringv1(java.lang.String)>(varReplacer1128);

        return $r0;

     label1:
        varReplacer1129 = "sharedPrefsSavedPassword";

        $r0 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: java.lang.String getEncryptedStringv2(java.lang.String)>(varReplacer1129);

        return $r0;
    }

    public static java.lang.String getEncryptedStringv1(java.lang.String) throws uk.co.parentmail.parentmail.service.ContextService$ServiceMissingException
    {
        java.lang.String $r0, $r2, varReplacer1149, varReplacer1150, varReplacer1151, varReplacer1152, varReplacer1153, varReplacer1155, varReplacer1156, varReplacer1157, varReplacer1158;
        android.content.SharedPreferences $r1;
        java.lang.StringBuilder $r3;
        boolean $z0;
        byte[] $r4;
        int varReplacer1154;

        nop;

        $r0 := @parameter0: java.lang.String;

        $r1 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences getSharedPreferences()>();

        varReplacer1155 = "sharedPrefsSavedPassword";

        varReplacer1156 = "";

        $r2 = interfaceinvoke $r1.<android.content.SharedPreferences: java.lang.String getString(java.lang.String,java.lang.String)>(varReplacer1155, varReplacer1156);

        $r1 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences getSharedPreferences()>();

        $r3 = new java.lang.StringBuilder;

        specialinvoke $r3.<java.lang.StringBuilder: void <init>()>();

        varReplacer1157 = "sharedPrefsSavedPassword";

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(varReplacer1157);

        varReplacer1151 = "_SALT";

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(varReplacer1151);

        $r0 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.String toString()>();

        varReplacer1150 = "";

        $r0 = interfaceinvoke $r1.<android.content.SharedPreferences: java.lang.String getString(java.lang.String,java.lang.String)>($r0, varReplacer1150);

        varReplacer1152 = "";

        $z0 = virtualinvoke $r2.<java.lang.String: boolean equals(java.lang.Object)>(varReplacer1152);

        if $z0 != 0 goto label1;

        varReplacer1153 = "";

        $z0 = virtualinvoke $r0.<java.lang.String: boolean equals(java.lang.Object)>(varReplacer1153);

        if $z0 == 0 goto label2;

     label1:
        varReplacer1158 = "";

        return varReplacer1158;

     label2:
        varReplacer1154 = 0;

        $r4 = staticinvoke <android.util.Base64: byte[] decode(java.lang.String,int)>($r0, varReplacer1154);

        varReplacer1149 = "!?*&pmxSharedPrefPassword%%$$";

        $r0 = staticinvoke <uk.co.parentmail.parentmail.utils.AesCbcWithIntegrity: java.lang.String decryptString(java.lang.String,java.lang.String,byte[])>($r2, varReplacer1149, $r4);

        return $r0;
    }

    public static java.lang.String getEncryptedStringv2(java.lang.String) throws uk.co.parentmail.parentmail.service.ContextService$ServiceMissingException
    {
        java.lang.String $r0, varReplacer1140, varReplacer1142, varReplacer1143, varReplacer1144, varReplacer1145, varReplacer1147, varReplacer1148;
        java.lang.Exception $r1;
        android.content.SharedPreferences $r2;
        boolean $z0;
        byte[] $r3;
        javax.crypto.Cipher $r4;
        javax.crypto.SecretKey $r5;
        int varReplacer1141, varReplacer1146;

        nop;

        $r0 := @parameter0: java.lang.String;

     label1:
        $r2 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences getSharedPreferences()>();

        varReplacer1142 = "sharedPrefsSavedPassword";

        varReplacer1143 = "";

        $r0 = interfaceinvoke $r2.<android.content.SharedPreferences: java.lang.String getString(java.lang.String,java.lang.String)>(varReplacer1142, varReplacer1143);

        varReplacer1140 = "";

        $z0 = virtualinvoke $r0.<java.lang.String: boolean equals(java.lang.Object)>(varReplacer1140);

     label2:
        if $z0 == 0 goto label3;

        varReplacer1144 = "";

        return varReplacer1144;

     label3:
        varReplacer1146 = 0;

        $r3 = staticinvoke <android.util.Base64: byte[] decode(java.lang.String,int)>($r0, varReplacer1146);

        varReplacer1147 = "AES/ECB/PKCS5Padding";

        $r4 = staticinvoke <javax.crypto.Cipher: javax.crypto.Cipher getInstance(java.lang.String)>(varReplacer1147);

        $r5 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: javax.crypto.SecretKey getSecretKey()>();

        varReplacer1141 = 2;

        virtualinvoke $r4.<javax.crypto.Cipher: void init(int,java.security.Key)>(varReplacer1141, $r5);

     label4:
        $r0 = new java.lang.String;

     label5:
        $r3 = virtualinvoke $r4.<javax.crypto.Cipher: byte[] doFinal(byte[])>($r3);

        varReplacer1145 = "UTF-8";

        specialinvoke $r0.<java.lang.String: void <init>(byte[],java.lang.String)>($r3, varReplacer1145);

     label6:
        return $r0;

     label7:
        $r1 := @caughtexception;

        virtualinvoke $r1.<java.lang.Exception: void printStackTrace()>();

        varReplacer1148 = "";

        return varReplacer1148;

        catch java.lang.Exception from label1 to label2 with label7;
        catch java.lang.Exception from label3 to label4 with label7;
        catch java.lang.Exception from label5 to label6 with label7;
    }

    private static javax.crypto.SecretKey getSecretKey()
    {
        javax.crypto.spec.SecretKeySpec $r0;
        byte[] $r1;
        java.lang.String $r2, varReplacer1167;

        nop;

        $r0 = new javax.crypto.spec.SecretKeySpec;

        $r2 = "!?*&pmxSharedPrefPassword%%$$qwe";

        $r1 = virtualinvoke $r2.<java.lang.String: byte[] getBytes()>();

        varReplacer1167 = "AES";

        specialinvoke $r0.<javax.crypto.spec.SecretKeySpec: void <init>(byte[],java.lang.String)>($r1, varReplacer1167);

        return $r0;
    }

    public static android.content.SharedPreferences getSharedPreferences() throws uk.co.parentmail.parentmail.service.ContextService$ServiceMissingException
    {
        android.content.SharedPreferences $r0;
        uk.co.parentmail.parentmail.service.ContextService $r1;
        java.lang.String $r2, varReplacer190;
        uk.co.parentmail.parentmail.service.ContextService$ServiceMissingException $r3;
        int varReplacer188, varReplacer189;

        nop;

        $r0 = <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences sSharedPreferences>;

        if $r0 != null goto label1;

        $r1 = staticinvoke <uk.co.parentmail.parentmail.service.ContextService: uk.co.parentmail.parentmail.service.ContextService getInstance()>();

        varReplacer188 = 2131165498;

        $r2 = virtualinvoke $r1.<android.content.Context: java.lang.String getString(int)>(varReplacer188);

        varReplacer189 = 0;

        $r0 = virtualinvoke $r1.<android.content.Context: android.content.SharedPreferences getSharedPreferences(java.lang.String,int)>($r2, varReplacer189);

        <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences sSharedPreferences> = $r0;

     label1:
        $r0 = <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences sSharedPreferences>;

        if $r0 != null goto label2;

        $r3 = new uk.co.parentmail.parentmail.service.ContextService$ServiceMissingException;

        varReplacer190 = "Couldn\'t load shared preferences";

        specialinvoke $r3.<uk.co.parentmail.parentmail.service.ContextService$ServiceMissingException: void <init>(java.lang.String)>(varReplacer190);

        throw $r3;

     label2:
        $r0 = <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences sSharedPreferences>;

        return $r0;
    }

    public static void putEncryptedString(android.content.SharedPreferences$Editor, java.lang.String, java.lang.String)
    {
        android.content.SharedPreferences$Editor $r0;
        java.lang.String $r1, $r2, varReplacer1708;

        nop;

        $r0 := @parameter0: android.content.SharedPreferences$Editor;

        $r1 := @parameter1: java.lang.String;

        $r2 := @parameter2: java.lang.String;

        varReplacer1708 = "sharedPrefsSavedPassword";

        staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: void putEncryptedStringv2(android.content.SharedPreferences$Editor,java.lang.String,java.lang.String)>($r0, varReplacer1708, $r2);

        return;
    }

    public static void putEncryptedString(java.lang.String, java.lang.String) throws uk.co.parentmail.parentmail.service.ContextService$ServiceMissingException
    {
        java.lang.String $r0, $r1;
        android.content.SharedPreferences $r2;
        android.content.SharedPreferences$Editor $r3;

        $r0 := @parameter0: java.lang.String;

        $r1 := @parameter1: java.lang.String;

        $r2 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences getSharedPreferences()>();

        $r3 = interfaceinvoke $r2.<android.content.SharedPreferences: android.content.SharedPreferences$Editor edit()>();

        staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: void putEncryptedString(android.content.SharedPreferences$Editor,java.lang.String,java.lang.String)>($r3, $r0, $r1);

        interfaceinvoke $r3.<android.content.SharedPreferences$Editor: boolean commit()>();

        return;
    }

    public static void putEncryptedStringv1(android.content.SharedPreferences$Editor, java.lang.String, java.lang.String)
    {
        android.content.SharedPreferences$Editor $r0;
        java.lang.String $r1, $r3;
        java.lang.Throwable $r2;
        byte[] $r4;
        java.lang.StringBuilder $r5, r6;
        java.security.GeneralSecurityException r7;

        $r0 := @parameter0: android.content.SharedPreferences$Editor;

        $r1 := @parameter1: java.lang.String;

        $r3 := @parameter2: java.lang.String;

     label1:
        $r4 = staticinvoke <uk.co.parentmail.parentmail.utils.AesCbcWithIntegrity: byte[] generateSalt()>();

        $r3 = staticinvoke <uk.co.parentmail.parentmail.utils.AesCbcWithIntegrity: java.lang.String encyrptString(java.lang.String,java.lang.String,byte[])>($r3, "!?*&pmxSharedPrefPassword%%$$", $r4);

        interfaceinvoke $r0.<android.content.SharedPreferences$Editor: android.content.SharedPreferences$Editor putString(java.lang.String,java.lang.String)>($r1, $r3);

     label2:
        r6 = new java.lang.StringBuilder;

        $r5 = r6;

     label3:
        specialinvoke r6.<java.lang.StringBuilder: void <init>()>();

        $r5 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r1);

        $r5 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("_SALT");

        $r1 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.String toString()>();

        $r3 = staticinvoke <android.util.Base64: java.lang.String encodeToString(byte[],int)>($r4, 0);

        interfaceinvoke $r0.<android.content.SharedPreferences$Editor: android.content.SharedPreferences$Editor putString(java.lang.String,java.lang.String)>($r1, $r3);

     label4:
        return;

     label5:
        $r2 := @caughtexception;

        r7 = (java.security.GeneralSecurityException) $r2;

        virtualinvoke r7.<java.security.GeneralSecurityException: void printStackTrace()>();

        return;

        catch java.security.GeneralSecurityException from label1 to label2 with label5;
        catch java.security.GeneralSecurityException from label3 to label4 with label5;
    }

    public static void putEncryptedStringv2(android.content.SharedPreferences$Editor, java.lang.String, java.lang.String)
    {
        android.content.SharedPreferences$Editor $r0, $r5;
        java.lang.String $r1, $r2, varReplacer1709, varReplacer1712, varReplacer1714, varReplacer1715;
        java.lang.Exception $r3;
        android.content.SharedPreferences $r4;
        javax.crypto.Cipher $r6;
        javax.crypto.SecretKey $r7;
        byte[] $r8;
        int varReplacer1710, varReplacer1711, varReplacer1713;

        nop;

        $r0 := @parameter0: android.content.SharedPreferences$Editor;

        $r1 := @parameter1: java.lang.String;

        $r2 := @parameter2: java.lang.String;

     label1:
        $r4 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: android.content.SharedPreferences getSharedPreferences()>();

        $r5 = interfaceinvoke $r4.<android.content.SharedPreferences: android.content.SharedPreferences$Editor edit()>();

        varReplacer1709 = "sharedPrefsEncyrptVersion";

        varReplacer1710 = 1;

        $r5 = interfaceinvoke $r5.<android.content.SharedPreferences$Editor: android.content.SharedPreferences$Editor putInt(java.lang.String,int)>(varReplacer1709, varReplacer1710);

        interfaceinvoke $r5.<android.content.SharedPreferences$Editor: boolean commit()>();

        varReplacer1712 = "AES/ECB/PKCS5Padding";

        $r6 = staticinvoke <javax.crypto.Cipher: javax.crypto.Cipher getInstance(java.lang.String)>(varReplacer1712);

        $r7 = staticinvoke <uk.co.parentmail.parentmail.utils.SharedPrefUtils: javax.crypto.SecretKey getSecretKey()>();

        varReplacer1713 = 1;

        virtualinvoke $r6.<javax.crypto.Cipher: void init(int,java.security.Key)>(varReplacer1713, $r7);

        varReplacer1715 = "UTF-8";

        $r8 = virtualinvoke $r2.<java.lang.String: byte[] getBytes(java.lang.String)>(varReplacer1715);

        $r8 = virtualinvoke $r6.<javax.crypto.Cipher: byte[] doFinal(byte[])>($r8);

        varReplacer1711 = 0;

        $r2 = staticinvoke <android.util.Base64: java.lang.String encodeToString(byte[],int)>($r8, varReplacer1711);

        varReplacer1714 = "sharedPrefsSavedPassword";

        interfaceinvoke $r0.<android.content.SharedPreferences$Editor: android.content.SharedPreferences$Editor putString(java.lang.String,java.lang.String)>(varReplacer1714, $r2);

     label2:
        return;

     label3:
        $r3 := @caughtexception;

        virtualinvoke $r3.<java.lang.Exception: void printStackTrace()>();

        return;

        catch java.lang.Exception from label1 to label2 with label3;
    }

    public static void putString(android.content.SharedPreferences$Editor, java.lang.String, java.lang.String)
    {
        android.content.SharedPreferences$Editor $r0;
        java.lang.String $r1, $r2;

        $r0 := @parameter0: android.content.SharedPreferences$Editor;

        $r1 := @parameter1: java.lang.String;

        $r2 := @parameter2: java.lang.String;

        interfaceinvoke $r0.<android.content.SharedPreferences$Editor: android.content.SharedPreferences$Editor putString(java.lang.String,java.lang.String)>($r1, $r2);

        return;
    }
}
